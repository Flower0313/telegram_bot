<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.telegram_bot.mapper.Bot">
    <resultMap id="BaseResultMap" type="com.example.telegram_bot.pojo.Phoenix">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <id column="channel_id" property="channelId" jdbcType="VARCHAR"/>
        <result column="message_id" property="messageId" jdbcType="INTEGER"/>
        <result column="group_id" property="groupId" jdbcType="VARCHAR"/>
        <result column="age" property="age" jdbcType="INTEGER"/>
        <result column="province" property="province" jdbcType="VARCHAR"/>
        <result column="city" property="city" jdbcType="VARCHAR"/>
        <result column="area" property="area" jdbcType="VARCHAR"/>
        <result column="if_sw" property="ifSw" jdbcType="BOOLEAN"/>
        <result column="if_by" property="ifBy" jdbcType="BOOLEAN"/>
        <result column="if_door" property="ifDoor" jdbcType="BOOLEAN"/>
        <result column="if_96" property="if96" jdbcType="BOOLEAN"/>
        <result column="remark" property="remark" jdbcType="VARCHAR"/>
        <result column="min_price" property="minPrice" jdbcType="VARCHAR"/>
        <result column="real_content" property="realContent" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="listPhoenix" resultMap="BaseResultMap">
        SELECT id,
               channel_id,
               message_id,
               group_id,
               age,
               province,
               city,
               area,
               IF
                   (if_sw = 1, TRUE, FALSE)   AS if_sw,
               IF
                   (if_by = 1, TRUE, FALSE)   AS if_by,
               IF
                   (if_door = 1, TRUE, FALSE) AS if_door,
               IF
                   (if_96 = 1, TRUE, FALSE)   AS if_96,
               min_price,
               remark
        FROM `dwd_building_phoenix` order by id
    </select>

    <select id="getTargetPhoenix" resultMap="BaseResultMap">
        SELECT id,
               channel_id,
               message_id,
               group_id,
               age,
               province,
               city,
               area,
               IF
                   (if_sw = 1, TRUE, FALSE)   AS if_sw,
               IF
                   (if_by = 1, TRUE, FALSE)   AS if_by,
               IF
                   (if_door = 1, TRUE, FALSE) AS if_door,
               IF
                   (if_96 = 1, TRUE, FALSE)   AS if_96,
               min_price,
               remark
        FROM `dwd_building_phoenix`
        where id = #{id}
    </select>
</mapper>